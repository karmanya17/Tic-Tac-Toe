<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Tic Tac toe</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <!-- Font Awesome CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link href="https://fonts.googleapis.com/css?family=Indie+Flower|Lobster" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div class="container-fluid">
      <div class="d-flex heading justify-content-center">
        <h1 class="display-2"><b>TIC TAC TOE</b></h1>
      </div>
      <div class="d-flex player justify-content-center mt-5 ml-auto mr-auto p-2">
        <div id="player1"class="p-4 playerBox">
          <p class="h4">Player 1</p>
          <p class="h4">O</p>
        </div>
        <div id="player2"class="p-4 playerBox">
          <p class="h4">Player 2</p>
          <p class="h4">X</p>
        </div>
      </div>
      <button id="restartBtn" class="d-flex btn restart justify-content-center mt-1 ml-auto mr-auto pt-2">
        <p class="h5">RESTART</p>
      </button>
        <div id="board" class="mt-4 mb-5 ml-auto mr-auto">
          <div id="0" class="box ani">

          </div>
          <div id="1" class="box ani">

          </div>
          <div id="2" class="box ani">

          </div>
          <div id="3" class="box ani">

          </div>
          <div id="4" class="box ani">

          </div>
          <div id="5" class="box ani">

          </div>
          <div id="6" class="box ani">

          </div>
          <div id="7" class="box ani">

          </div>
          <div id="8" class="box ani">

          </div>

        </div>
        <footer>
          <p>Created by Karmanya Verma</p>
        </footer>
    </div>

<!-- Tic Tac Toe script -->
<script type="text/javascript">

    const boxes=document.querySelectorAll(".box");
    const restartBtn=document.getElementById("restartBtn");
    //console.log(boxes);
    var circle='O';
    var cross='X';
    var currentPlayer=circle;
    var gameSteps=[];

    // Function For Playing the Game.
    const player1=document.getElementById("player1");
    const player2=document.getElementById("player2");
    //console.log(player1);
    var currentBox="p1";
    player1.style="background-color:#38A3A5;border:2px solid #FFFFFF;color:#E8F0F2";
    const playGame=function boxClicked(e){
    //  console.log(e);
      var id=e.target.id;
    //  console.log(id);

      if(!gameSteps[id]){
        gameSteps[id]=currentPlayer;
        document.getElementById(id).innerText=currentPlayer;       //Changing the inner text to O or X according to current player .
        currentPlayer = currentPlayer == circle ? cross:circle;    // if current player is O change the current player to X .
        currentBox=currentBox == "p1" ?"p2":"p1";
        if(currentBox=="p2"){
          player1.style='';
          player2.style="background-color:#38A3A5;border:2px solid #FFFFFF;color:#E8F0F2";

        }
        else{
          player2.style='';
          player1.style="background-color:#38A3A5;border:2px solid #FFFFFF;color:#E8F0F2";
        }
      }
    }

    // Function for giving the borders to the divs and adding an event listener to the div .
    const draw=function drawGrid(){
      boxes.forEach(function(box,i){
        var styles='';
        if(i<3){
          styles+="border-bottom:3px solid #80ED99;";
        }
        if(i%3==0){
          styles+="border-right:3px solid #80ED99;";
        }
        if(i%3==2)
        {
          styles+="border-left:3px solid #80ED99;";
        }
        if(i>5){
          styles+="border-top:3px solid #80ED99;";
        }
        console.log(i);
        //console.log(box);
        console.log(styles);
        box.style=styles;
        box.addEventListener('click',playGame);
      })
    }


    // Function to restart the game
    const restart=function restart(){
      gameSteps=[];
      boxes.forEach(function(box){
        box.innerText='';
      });
      player1.style="background-color:#38A3A5;border:2px solid #FFFFFF;color:#E8F0F2";    //Reseting the original styles for playerboxes.
      player2.style='';
      currentPlayer=circle;                                                             //Reseting the currentplayer to Circle 'O'.

      boxes.forEach(function(box){                    //For Animation on board
        box.classList.remove("ani");
        setTimeout(function(){                        //Setting timeout function  for a delay in animation.
        box.classList.add("ani");
      },100);

      })
    }
  restartBtn.addEventListener('click',restart);       // adding event listener to the restart button

    draw();                                            // Calling the draw grid method .

</script>


    <!-- Bootstrap - Script -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

  </body>
</html>
